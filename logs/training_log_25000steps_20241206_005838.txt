2024-12-06 00:58:38,482 - Starting training with parameters:
2024-12-06 00:58:38,482 - Training timesteps: 25000
2024-12-06 00:58:38,483 - Max episode steps: 2500
2024-12-06 00:58:41,388 - Starting training...
2024-12-06 00:59:23,973 - Error during execution: cannot access local variable 'heading_efficiency' where it is not associated with a value
Traceback (most recent call last):
  File "/work/flemingc/aharoon/UAM/UAM_v2/gym-examples/gym_examples/envs/train_single_agent_uam.py", line 167, in train_and_evaluate
    model.learn(total_timesteps=training_timesteps, progress_bar=True)
  File "/work/flemingc/aharoon/anaconda3/envs/AAM_AMOD/lib/python3.11/site-packages/stable_baselines3/ppo/ppo.py", line 315, in learn
    return super().learn(
           ^^^^^^^^^^^^^^
  File "/work/flemingc/aharoon/anaconda3/envs/AAM_AMOD/lib/python3.11/site-packages/stable_baselines3/common/on_policy_algorithm.py", line 300, in learn
    continue_training = self.collect_rollouts(self.env, callback, self.rollout_buffer, n_rollout_steps=self.n_steps)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/work/flemingc/aharoon/anaconda3/envs/AAM_AMOD/lib/python3.11/site-packages/stable_baselines3/common/on_policy_algorithm.py", line 195, in collect_rollouts
    new_obs, rewards, dones, infos = env.step(clipped_actions)
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/work/flemingc/aharoon/anaconda3/envs/AAM_AMOD/lib/python3.11/site-packages/stable_baselines3/common/vec_env/base_vec_env.py", line 206, in step
    return self.step_wait()
           ^^^^^^^^^^^^^^^^
  File "/work/flemingc/aharoon/anaconda3/envs/AAM_AMOD/lib/python3.11/site-packages/stable_baselines3/common/vec_env/dummy_vec_env.py", line 58, in step_wait
    obs, self.buf_rews[env_idx], terminated, truncated, self.buf_infos[env_idx] = self.envs[env_idx].step(
                                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/work/flemingc/aharoon/anaconda3/envs/AAM_AMOD/lib/python3.11/site-packages/stable_baselines3/common/monitor.py", line 94, in step
    observation, reward, terminated, truncated, info = self.env.step(action)
                                                       ^^^^^^^^^^^^^^^^^^^^^
  File "/work/flemingc/aharoon/UAM/UAM_v2/gym-examples/gym_examples/envs/uam_uav.py", line 377, in step
    reward = self.get_reward(obs)
             ^^^^^^^^^^^^^^^^^^^^
  File "/work/flemingc/aharoon/UAM/UAM_v2/gym-examples/gym_examples/envs/uam_uav.py", line 826, in get_reward
    reward += heading_efficiency * 1.0  # Reduced reward during avoidance
    ^^^^^^
UnboundLocalError: cannot access local variable 'heading_efficiency' where it is not associated with a value
